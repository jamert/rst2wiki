rst2wiki
========

rst2wiki is command line utility for pushing your documentation
in reStructuredText format to Confluence wiki. Under the covers
it uses `rst2confluence <https://github.com/netresearch/rst2confluence>`_
library for transforming ReST files and pushes result using
`Confluence REST API <https://docs.atlassian.com/atlassian-confluence/REST/latest/>`_.


Installation
------------

It is available through PyPI::

  pip install rst2wiki

or getting more popular recently::

  python -m pip install rst2wiki

Personally, I recommend to use `pipsi <https://github.com/mitsuhiko/pipsi>`_::

  pipsi install rst2wiki


Usage
-----

Due to limitations of current Confluence REST API, you need to make
a placeholder page beforehand and get its page id. For better user
experience you need also to get ancestor page id (or result page
will move to space's root after update). Then, you can use it
as follows::

  rst2wiki --page 10814244 --ancestor 1147842 README.rst 

First time it will ask you for some configuration values:
Confluence url (don't forget ``https://`` part), your login and password
and store it for further usage.

There are some more options: ``--warning`` (adds warning to top of your page
that this page is autogenerated and manual revisions will be overwritten),
``--title`` to specify page title in confluence (use exiting, if not specified)
and ``--config`` for configuration file location.

More interesting, it is possible to embed all arguments (except ``config``)
to ReST document by adding comment like this::

  .. rst2wiki

    :page: 10814244
    :ancestor: 1147842
    :title: README
    :warning: en

After that you can use tool as follows::

  rst2wiki README.rst

Of course, you still can override metadata in document in command line::

  rst2wiki --warning off README.rst
